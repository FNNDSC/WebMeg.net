<html>
<head>
<title>WebMEG</title>
<script type="text/javascript" src="js/dragndrop.js"></script>
<script type="text/javascript" src="js/load.js"></script>
<script type="text/javascript" src="js/parse.js"></script>
<script type="text/javascript" src="js/arrayFunctions.js"></script>
<script type="text/javascript" src="js/formatReaders/fiffReader.js"></script>
<script type="text/javascript" src="js/formatReaders/edfReader.js"></script>
<script type="text/javascript" src="js/plotData_highChart.js"></script>
<script type="text/javascript" src="js/chartInitialize.js"></script>
<script type="text/javascript" src="js/firstGood.js"></script>
<script type="text/javascript" src="js/clone.js"></script>
<script type="text/javascript" src="js/eventFunctions.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="js/highstock.js"></script>
<script type="text/javascript" src="js/exporting.js"></script>
<script type="text/javascript" src="js/avgFunctions.js"></script>
<script type="text/javascript" src="js/displayOperations.js"></script>
<script type="text/javascript" src="js/menu/jquery.js"></script>
<script type="text/javascript" src="js/jquery.flot.js"></script>
<script type="text/javascript" src="js/heatmap.js"></script>
<script type="text/javascript" src="js/menu/menu.js"></script>
<link rel="stylesheet" type="text/css" href="css/style.css"/>
<link type="text/css" href="css/menu.css" rel="stylesheet" />
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/ui-lightness/jquery-ui.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js" type="text/javascript"></script>

<style>

body {
  font: 10px sans-serif;
}

.axis path, .axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}

* { margin:0;
    padding:0;
}
body { background:rgb(74,81,85); }
div#menu { margin:1px auto; }
</style>

<div id="menu">
    <ul class="menu">
    
        <li id="File"><a href="#" class="parent"><span>File</span></a>
            <ul>
                <li><a href="#"><span> <input type="file" id="fileSelector" style="display: none;">
  <span style="color: rgb(169, 169, 169);" onclick="javascript:document.getElementById('fileSelector').click();">Load file for display</span></span></a></li>
  <li><a href="#"><span> <input type="file" id="eventSelector" name = "file" style="display: none;">
  <span style="color: rgb(169, 169, 169);" onclick="javascript:document.getElementById('eventSelector').click();">Load events csv/txt</span></span></a></li>
  				<li><a href="#"><span onclick="javascript:saveEvents()">Save events in csv/txt</span></a></li>
            </ul>
        </li>
        <li id="eventAddGroup"><a href="#" class="parent"><span>Add Events</span></a>
            <ul>
            	<li><a href="#"><span onclick="javascript:addEventGroup(this)">Create New Event Type</span></a></li>
            </ul>
        </li>
        
        <li><a href="#" class="parent"><span>Display</span></a>
            <ul>
                <li><a href="#"><span>Plot type</span></a></li>
                <li><a href="#"><span onclick="javascript:changeDuration()">Display duration</span></a></li>
                <li><a href="#"><span onclick="javascript:avgParams()">Average data</span></a></li>
                <li><a href="#"><span onclick="javascript:topoPlot()">Plot Topography</span></a></li>
            </ul>
        </li>
        <li><a href="#" class="parent"><span onclick="javascript:fltData()">Filter</span></a>
        <li><a href="#" class="parent"><span>Help</span></a>
        	<ul>
                <li><a href="https://www.dropbox.com/sh/d5sr68bsedgvtwi/z2g1JIh1Y8" target = "_blank"><span>Download Sample Data</span></a></li>
            </ul>
        </li>
    </ul>
</div>

<div id="avgDialog" title="Average data" style="font-size:10pt" size="10">
    <p><span style="font-size:10pt" size="10">Pre-stimulus in ms</span></p>
    <p><input id="prestim" name="username" value="-200" type="text" autocomplete="off" style="font-size:10pt" size="10"></p>
    <p><span style="font-size:10pt" size="10">Post-stimulus in ms</span></p>
    <p><input id="poststim" name="password" value="500" type="text" autocomplete="off" style="font-size:10pt" size="10"></p>
    <p><center><button id="avgSubmit" type="button" style="height: 25px; width: 100px;font-size:12pt" onclick="javascript:startAvg()">Ok</button></center></p>
</div>

<div id="topoDlg" title="Topography" style="font-size:10pt" size="10">
	<canvas id="canvas" width="750" height="750"></canvas>
</div>


<div id="fltDlg" title="Filter properties" style="display:block;font-size:12pt;height:300px;width:300px">
	<form name="appform">
		
	<label for="lowactive"> Low Cutoff frequency (Hz)</label>
	<input type="checkbox" name="lowactive"> 
	<input type="text" name="lowcutoff" size="5" onChange="FIR.go()" value="1"> 
	<br/>
	
	<label for="highactive">High Cutoff frequency (Hz)</label>
	<input type="checkbox" name="highactive"> 
	<input type="text" name="highcutoff" size="5" onChange="FIR.go()" value="100">
	<p>
	
	<label for="notchactive">Notch filter</label>
	<input type="checkbox" name="notchactive"> 
	<input type="text" name="notchval" size="5" onChange="FIR.go()" value="60">
	<p>
	
	<label for="filterorder">Filter order: </label> 
	<input type="text" name="filterorder" size="5" onChange="FIR.go()" value="100">
	<br/>
	
	<label for="samplerate">Sample rate: </label> 
	<input type="text" name="samplerate" size="5" readonly=true value=''>
	<br/>
	
	</form>
	
	<h3>Impulse Response</h3>
    <div id="impulseresponse" style="width:300px;height:100px;"></div>
	<h3>Frequency Response</h3>
    <div id="frequencyresponse" style="width:300px;height:100px;"></div>
	<br/>
</div>


<div style="visibility: hidden" id="copyright">Copyright &copy; 2013 <a href="http://apycom.com/">Apycom jQuery Menus</a></div>
<script>
window.onload = function() {
$('div#avgDialog').dialog({ autoOpen: false })
$('div#fltDlg').dialog({autoOpen : false,width : 800, height : 700})
$('div#topoDlg').dialog({autoOpen : false,width : 800, height : 700})
if (localStorage.avg) {
	plotData_highChart(MEG_data1);
	localStorage.removeItem('avg');
}
else {
  // do something when the page is fully loaded
  // initialize dragndrop
  initialize_dragndrop();
 }
  
  };

</script>

<script type="text/javascript">
// Update tracking information of the website
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-39084119-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
 
</head>

<body>
<!-- The dropzone -->
<div id="drop_zone">Drop the MEG\EEG file here to display or from File menu</div>
<div id="nondrop_zone"></div>
<div id="container" style="height: 1px; min-width: 1px"></div>
</body>

</html>
